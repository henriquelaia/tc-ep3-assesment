M:
  # Palindrome detector for {0,1}*
  # Algorithm:
  # 1. Read first char, replace with _, remember it.
  # 2. Go to end.
  # 3. Read last char, match?, replace with _.
  # 4. Go back to start. Repeat.
  
  states: [q0, q1, q2, q3, q4, q5, qA, qR]
  input_alphabet: [0, 1]
  tape_alphabet_extra: [_]
  start_state: q0
  accept_state: qA
  reject_state: qR

  delta:
    q0:
      _: [qA, _, S] # Empty - Accept
      0: [q1, _, R] # Found 0, go find match
      1: [q2, _, R] # Found 1, go find match
    
    q1: # Have 0, move R to end
      0: [q1, 0, R]
      1: [q1, 1, R]
      _: [q3, _, L] # Hit end, step back to check
    
    q2: # Have 1, move R to end
      0: [q2, 0, R]
      1: [q2, 1, R]
      _: [q4, _, L] # Hit end, step back to check
      
    q3: # Check match for 0
      _: [qA, _, S] # Was "0", now "_" -> Accept
      0: [q5, _, L] # Matched 0, consume, go back
      1: [qR, 1, S] # Mismatch
      
    q4: # Check match for 1
      _: [qA, _, S] # Was "1" -> Accept
      1: [q5, _, L] # Matched 1, consume, go back
      0: [qR, 0, S] # Mismatch
      
    q5: # Go back to start
      0: [q5, 0, L]
      1: [q5, 1, L]
      _: [q0, _, R] # Found start blank, move R to q0

w: "101"
